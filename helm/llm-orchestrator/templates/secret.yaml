{{- if include "llm-orchestrator.createSecret" . }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "llm-orchestrator.secretName" . }}
  labels:
    {{- include "llm-orchestrator.labels" . | nindent 4 }}
type: Opaque
data:
  # LLM Provider API Keys (base64 encoded)
  # These should be provided via --set-string flags or values file
  # Example: helm install --set-string llmProviders.anthropic.apiKey="sk-ant-..."
  {{- if .Values.llmProviders.anthropic.enabled }}
  anthropic-api-key: {{ .Values.llmProviders.anthropic.apiKey | default "" | b64enc | quote }}
  {{- end }}
  {{- if .Values.llmProviders.openai.enabled }}
  openai-api-key: {{ .Values.llmProviders.openai.apiKey | default "" | b64enc | quote }}
  {{- end }}
  {{- if .Values.llmProviders.cohere.enabled }}
  cohere-api-key: {{ .Values.llmProviders.cohere.apiKey | default "" | b64enc | quote }}
  {{- end }}

  # Vector DB API Keys
  {{- if eq .Values.vectorDB.type "pinecone" }}
  pinecone-api-key: {{ .Values.vectorDB.pinecone.apiKey | default "" | b64enc | quote }}
  {{- else if and (eq .Values.vectorDB.type "qdrant") .Values.vectorDB.qdrant.apiKey }}
  qdrant-api-key: {{ .Values.vectorDB.qdrant.apiKey | b64enc | quote }}
  {{- else if and (eq .Values.vectorDB.type "weaviate") .Values.vectorDB.weaviate.apiKey }}
  weaviate-api-key: {{ .Values.vectorDB.weaviate.apiKey | b64enc | quote }}
  {{- end }}
{{- end }}
